// TALIYAH HUANG
/* Custom GamePigeon Games -- main setup */

let iphoneWidth = 980;
let iphoneHeight = 1642;
let deviceWidth = window.innerWidth;
let deviceHeight = window.innerHeight;

if (window.innerHeight < window.innerWidth) { // check if we're on laptop
  deviceWidth *= 0.9;
  deviceHeight *= 0.9;
  deviceWidth = deviceHeight * (iphoneWidth / iphoneHeight);
} else { // ok we're on phone then
  deviceHeight = deviceWidth * (iphoneHeight / iphoneWidth);
}

let scaleFactor = deviceWidth / 1179;

// add each appearing character for each language
let alphabets = [
  // english [0]
  ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"],
  // spanish [1]
  ["A", "Á", "B", "C", "D", "E", "É", "F", "G", "H", "I", "Í", "J", "K", "L", "M", "N", "Ñ", "O", "Ó", "P", "Q", "R", "S", "T", "U", "Ú", "Ü", "V", "W", "X", "Y", "Z", "´"],
  // french [2]
  ["A", "À", "Â", "B", "C", "Ç", "D", "E", "É", "È", "Ê", "Ë", "F", "G", "H", "I", "Î", "Ï", "J", "K", "L", "M", "N", "O", "Ô", "Œ", "P", "Q", "R", "S", "T", "U", "Ù", "Û", "Ü", "V", "W", "X", "Y", "Z"],
  // japanese [3]
  ["あ", "い", "う", "え", "お", "か", "き", "く", "け", "こ", "さ", "し", "す", "せ", "そ", "た", "ち", "つ", "て", "と", "な", "に", "ぬ", "ね", "の", "は", "ひ", "ふ", "へ", "ほ", "ま", "み", "む", "め", "も", "や", "ゆ", "よ", "ら", "り", "る", "れ", "ろ", "わ", "を", "ん", "が", "ぎ", "ぐ", "げ", "ご", "ざ", "じ", "ず", "ぜ", "ぞ", "だ", "ぢ", "づ", "で", "ど", "ば", "び", "ぶ", "べ", "ぼ", "ぱ", "ぴ", "ぷ", "ぺ", "ぽ", "ぁ", "ぃ", "ぅ", "ぇ", "ぉ", "ゃ", "ゅ", "ょ", "っ"],
  // mandarin (bopomofo) [4]
  ["ㄅ", "ㄆ", "ㄇ", "ㄈ", "ㄉ", "ㄊ", "ㄋ", "ㄌ", "ㄍ", "ㄎ", "ㄏ", "ㄐ", "ㄑ", "ㄒ", "ㄓ", "ㄔ", "ㄕ", "ㄖ", "ㄗ", "ㄘ", "ㄙ", "ㄚ", "ㄛ", "ㄜ", "ㄝ", "ㄞ", "ㄟ", "ㄠ", "ㄡ", "ㄢ", "ㄣ", "ㄤ", "ㄥ", "ㄦ", "ㄧ", "ㄨ", "ㄩ"],
  // mandarin (pinyin) [5]
  ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"],
  // german [6]
  ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "Ä", "Ö", "Ü", "ẞ"],
  // korean [7]
  ["ㄱ", "ㄲ", "ㄴ", "ㄷ", "ㄸ", "ㄹ", "ㅁ", "ㅂ", "ㅃ", "ㅅ", "ㅆ", "ㅇ", "ㅈ", "ㅉ", "ㅊ", "ㅋ", "ㅌ", "ㅍ", "ㅎ", "ㅏ", "ㅐ", "ㅑ", "ㅒ", "ㅓ", "ㅔ", "ㅕ", "ㅖ", "ㅗ", "ㅛ", "ㅜ", "ㅠ", "ㅡ", "ㅣ"],
  // russian [8]
  ["А", "Б", "В", "Г", "Д", "Е", "Ё", "Ж", "З", "И", "Й", "К", "Л", "М", "Н", "О", "П", "Р", "С", "Т", "У", "Ф", "Х", "Ц", "Ч", "Ш", "Щ", "Ъ", "Ы", "Ь", "Э", "Ю", "Я"],
  // arabic [9]
  ['ء', 'ا', 'ة', 'ب', 'ن', 'ؤ', 'ك', 'م', 'آ', 'ئ', 'ه', 'ي', 'أ', 'ت', 'و', 'ى', 'ث', 'ر', 'ج', 'ز', 'ل', 'ع', 'خ', 'ذ', 'د', 'إ', 'س', 'ف', 'ش', 'ق', 'ض', 'غ', 'ح', 'ص', 'ط', 'ظ'],
  // italian [10]
  ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"],
  // hindi [11]
  ['स', 'ि', 'त', 'ा', 'र', 'म', 'छ', 'ल', 'ी', 'इ', 'ट', 'ु', '्', 'े', 'ं', 'व', 'श', 'ख', 'न', 'क', 'ई', 'य', 'प', 'उ', 'थ', 'ो', 'ष', 'ए', 'अ', 'ज', 'च', 'ू', 'भ', '़', 'द', 'घ', 'ध', 'ृ', 'ँ', 'ह', 'ण', 'आ', 'ढ', 'ब', 'ड़', 'फ', 'ग', 'ड', 'ठ', 'झ', 'ौ', 'ै', 'ञ'],
];
let alphabet = alphabets[0]; // set default english

// calculate these using count.py
let letter_freq_sum = [
  // english [0]
  [0.07729417905074525, 0.09588287357785502, 0.13597215213355154, 0.169523140265902, 0.28233065922128475, 0.2942478293473186, 0.32227255505825353, 0.34726827113389586, 0.43761269865225383, 0.4392779268635857, 0.44865775610400266, 0.500958184182022, 0.5299202639840653, 0.5968457740068762, 0.663138520890616, 0.6931507516911675, 0.6948403471786624, 0.7646769606617837, 0.8609689686668269, 0.92620213205806, 0.9592932861079799, 0.9684966491065069, 0.9761845247359293, 0.9790182031413348, 0.9951756723403117, 0.9999999999999999],
  // spanish [1]
  [0.16547817923965644, 0.16547817923965644, 0.18816904637451337, 0.23232686842607886, 0.2684421957206956, 0.3853052760658398, 0.3853052760658398, 0.3942220161458962, 0.408281779980969, 0.41791144072911873, 0.49674672357121874, 0.49674672357121874, 0.5026743504886669, 0.5026743504886669, 0.5389008715435646, 0.573241939975047, 0.6332237897800753, 0.6356891053696747, 0.7039897164512261, 0.7039897164512261, 0.7247977858698654, 0.7284981018194391, 0.8181369829041155, 0.9138952689085224, 0.9544471023015391, 0.9812513577117323, 0.9812513577117323, 0.9812513577117323, 0.9890594397802236, 0.9890594397802236, 0.9904798151310032, 0.9918550570594217, 1.0],
  // french [2]
  [0.0901326494053754, 0.09014736892926356, 0.09632338676226114, 0.11017769703628275, 0.14336698510884646, 0.1441862738084619, 0.16770983932462116, 0.27698699588942577, 0.31209541548652886, 0.3152503982367188, 0.31592249169745257, 0.31592985145939667, 0.32925573082583304, 0.34508746193899115, 0.3566213864672819, 0.44949952146827843, 0.4504359775780437, 0.4507238914652963, 0.4524731596841662, 0.4529733291058861, 0.4929218225478966, 0.5182526512070451, 0.5920068863820558, 0.6503898171511303, 0.6506565349239839, 0.6506565349239839, 0.6742036516783642, 0.6792250700575738, 0.7655221059281704, 0.867903459941846, 0.936357783345683, 0.9720429138887245, 0.9720432082792023, 0.9724312149288944, 0.972444168109916, 0.9819591627417056, 0.9821201943330421, 0.9846472421941628, 0.9880433307456409, 0.9985245149254499],
  // japanese [3]
  [0.012537668896954323, 0.08249060701388587, 0.16513519740669177, 0.17461601107767835, 0.18725861679582262, 0.22524460544895852, 0.2595726333895278, 0.2993174544152168, 0.3133299418969384, 0.33568034419277354, 0.3509554953816393, 0.39798544115667756, 0.41024137750108935, 0.4271829710351562, 0.4365656915906826, 0.45452699727848644, 0.4721712112674772, 0.4955572943637522, 0.5065699575005875, 0.5229435234590827, 0.5350853980413315, 0.5450874739654028, 0.5465851049026027, 0.5515924162615573, 0.563377277528236, 0.5748986561243181, 0.5831168060881605, 0.5911216605567582, 0.5939469704055351, 0.6024274624223523, 0.6145259935349792, 0.6262789175082523, 0.6318348659432108, 0.6408252140368966, 0.6509961013689692, 0.6572672170526896, 0.6611236452314199, 0.6683323486001199, 0.6794955732630104, 0.7031132017364762, 0.717759872615824, 0.72530163633004, 0.7332403349765831, 0.7409064260115568, 0.7448689316290985, 0.8216108258299704, 0.8352948154366626, 0.8432494827299085, 0.846479711834364, 0.8523618769091087, 0.8592090044917522, 0.8630722763762122, 0.8842957484618772, 0.8882171918450403, 0.8911200636920881, 0.8940537322149198, 0.9038984029072062, 0.9039691211997473, 0.9049283806195378, 0.9087334810052947, 0.9174409559288164, 0.9237223371711315, 0.9284068537431649, 0.9357227751682982, 0.9380747287040987, 0.9420303906159107, 0.9429987749766743, 0.9433717569389473, 0.9441952828617639, 0.9445374681482528, 0.9451819171044736, 0.9453974938349616, 0.9457316947980992, 0.945744241591937, 0.9459370059699924, 0.9459620995576683, 0.9528012428169603, 0.9691588401287528, 0.9999999999999998, 0.9999999999999998],
  // mandarin (bopomofo) [4]
  [0.02646168752963975, 0.03631317318485311, 0.06058621030832165, 0.07669488200393718, 0.10917663756426921, 0.1312149653875941, 0.1457473993783755, 0.19375611986230096, 0.21071261638400152, 0.2320992961518647, 0.2514013844962351, 0.2770766590584197, 0.29081585654189823, 0.31190571232638353, 0.3289935619901536, 0.3393482837091398, 0.36098572856640837, 0.3687457992582812, 0.37695622358010666, 0.3817292897036196, 0.4096460971057956, 0.4556725792639448, 0.4816549131192789, 0.5196381476818729, 0.5306342821465492, 0.5534521993974815, 0.5787180615688001, 0.5999648587697841, 0.6136102325803559, 0.6575504174300504, 0.6909072919758585, 0.7107876753223272, 0.7457907288564091, 0.7560618622122601, 0.8813966421360412, 0.9832465037887708, 0.9999982941150383],
  // mandarin (pinyin) [5]
  [0.11605577377986852, 0.13592521487659404, 0.14738145766441213, 0.17189102929442607, 0.24894819011855834, 0.2610448042192785, 0.315128003821736, 0.36684182956645583, 0.5170357980371338, 0.536143197271506, 0.5499380760940424, 0.5861587582944094, 0.6043517072939574, 0.7143213921160045, 0.7654742525906222, 0.7728641375415121, 0.7854359071564055, 0.7989746374537812, 0.8360329253314241, 0.8525237673812783, 0.9307797033031633, 0.931494357688362, 0.9444567538041257, 0.9603533312756068, 0.9810539743364792, 0.9999782273753612],
  // german [6]
  [0.05399679148032135, 0.07792390265114386, 0.10661866792334115, 0.13321869084500162, 0.302044796718972, 0.3223734123096496, 0.3562888806101982, 0.39756786824198814, 0.4589018986262644, 0.45995273112610224, 0.48049530785405314, 0.5244702827338106, 0.5517626987665635, 0.6356067484034962, 0.6609690272985695, 0.6770205994962876, 0.6776079990954406, 0.758881438352143, 0.8374713254898865, 0.9120603060169872, 0.9468932817228474, 0.9552594314043671, 0.9646819260655944, 0.9657655770502387, 0.9673509919002441, 0.9799294453855544, 0.9883750773349647, 0.9916751298189009, 0.99839753492156, 0.9999364141856876],
  // korean [7]
  [0.0743449884919759, 0.07708169120660843, 0.14617712898445628, 0.17931472081218275, 0.18090613866380806, 0.23533672793769903, 0.2708996752530189, 0.3033042217107545, 0.30414919443831384, 0.35280527792666394, 0.3551470820064949, 0.4671280385912917, 0.5113850616388688, 0.5123774316612543, 0.5261019327174702, 0.5312632026988682, 0.5408676734874043, 0.5510814389759435, 0.580415077087997, 0.677177854147618, 0.6959501213860075, 0.6994253870164265, 0.6994364221080178, 0.7398823974524703, 0.7533349623230444, 0.7712023520509506, 0.773775893054198, 0.8276137402654727, 0.8326165778604534, 0.8740044770943027, 0.8781907179115301, 0.9221647696818741, 0.9996185011192736],
  // russian [8]
  [0.08556465188553013, 0.10181574896047653, 0.14326240114335592, 0.15755914612798488, 0.18303766264285953, 0.2530178553443736, 0.25404179196101845, 0.2613604208931029, 0.27888484429928684, 0.35159393599317057, 0.3773050563764634, 0.4173081257883353, 0.455519905615585, 0.4780968687202951, 0.5456694914847801, 0.6330254329549324, 0.6639929211688704, 0.7241965574627475, 0.7798224537070343, 0.8537065546331334, 0.8759645866605279, 0.8810722798536275, 0.8871535521248484, 0.8933739071215152, 0.9061527320163639, 0.9129965612995123, 0.9160036257427738, 0.9163920981828124, 0.9376094077473875, 0.9762312418169001, 0.9787635066112256, 0.9814732217793958, 1.0000000000000002],
  // arabic [9]
  [0.0035961959733949566, 0.1442934243815028, 0.16040307142614946, 0.20182638352390145, 0.25489592523139243, 0.2567589387780723, 0.2808845860586839, 0.3369336889445524, 0.3382783864084212, 0.3429815502415552, 0.3887044152538709, 0.45069537169704277, 0.471588854338685, 0.5297741203216837, 0.6117914639946161, 0.6174518487258209, 0.6230829899426259, 0.6694125318291073, 0.6858906219452658, 0.6962940021930113, 0.7806408690970799, 0.8056105447070939, 0.8163599311920273, 0.8220397275664114, 0.8459222251087587, 0.8498617802770898, 0.8754793509906177, 0.9069857083667837, 0.9195020585795491, 0.9417025498453812, 0.9492516622479967, 0.9565764063073722, 0.9749742323041758, 0.9858879875079772, 0.9974469907730408, 0.999971134634493],
  // italian [10]
  [0.1149185977270346, 0.13380133302121167, 0.18256086588938364, 0.20605687291616212, 0.3125770502251288, 0.32649494394654754, 0.3515085030542991, 0.35936470348489996, 0.482232878361165, 0.482264052041573, 0.4824529703177493, 0.5173736982462784, 0.554456811607924, 0.6144577756828552, 0.6962635746224305, 0.7197719933923343, 0.7209489441503311, 0.8074318054092686, 0.8735451200056806, 0.9438755408128423, 0.9633808837796126, 0.98441518031232, 0.9844763730923801, 0.9846066963951969, 0.9846732291112529, 1.0],
  // hindi [11]
  [0.03809107058809191, 0.07747169169644375, 0.11736302588212624, 0.2360393968710699, 0.3078473966110705, 0.3354816169408171, 0.3390804030686892, 0.3686489491788256, 0.39994985726149845, 0.40166016571478647, 0.41356384290697884, 0.4315003183251397, 0.49654195014627867, 0.5302617810770358, 0.5494907087943051, 0.5752312282475402, 0.5864326749584029, 0.5936029704929715, 0.6565744732836122, 0.7170858479665203, 0.7189737452853346, 0.7395311073594333, 0.7690503232291457, 0.7729874567707493, 0.7774532944185442, 0.7945209772494731, 0.8017359601783082, 0.8041775169014106, 0.816073649468597, 0.8299029471046337, 0.8422059090663755, 0.8521479837570023, 0.8595515823109878, 0.8680009819619618, 0.8892942351520324, 0.8918843629521764, 0.9007109938534515, 0.9030579525860938, 0.9058819637614245, 0.9258798628735382, 0.9320037769553486, 0.9378729148542634, 0.9402024629138148, 0.9565069779075963, 0.9577222428893354, 0.9616878138636541, 0.9770039829816468, 0.9853895434979545, 0.9877858324710208, 0.9892895342702978, 0.9914542612912561, 0.9956937601888703, 0.996369294304794],
]

// add the dictionaries for each language
let dictionaries = [
  ['en-2021', 'en-2019', 'en-2015'], // ENGLISH
  ['sp-rae'], // SPANISH
  ['fr-lex'], // FRENCH
  ['jp-jmd'], // JAPANESE
  ['zy-sub'], // MANDARIN (ZHUYIN)
  ['py-sub'], // MANDARIN (PINYIN)
  ['de-tan'], // GERMAN
  ['kr-ken'], // KOREAN
  ['ru-git'], // RUSSIAN
  ['ab-git'], // ARABIC
  ['it-git'], // ITALIAN
  ['hi-git'], // HINDI
];

// add the dictionary names for each langugae
let dictionary_names = [
  ['Collins 2021', 'Collins 2019', 'Collins 2015'],
  ['Real Academia Española'],
  ['Lexique'],
  ['JMDict'],
  ['SUBTLEX-CH'],
  ['SUBTLEX-CH'],
  ['Tanglet'],
  ['Kengdic'],
  ['GitHub'],
  ['GitHub'],
  ['GitHub'],
  ['GitHub'],
]

let languages = "en"; // set default